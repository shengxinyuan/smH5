(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-search"],{1236:function(t,i,a){var e=a("cdf0");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("68bdb2b7",e,!0,{sourceMap:!1,shadowMode:!1})},2391:function(t,i,a){"use strict";var e=a("1236"),n=a.n(e);n.a},3984:function(t,i,a){"use strict";a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}));var e={uSearch:a("900c").default,uIcon:a("8be7").default,uLoadmore:a("9180").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"box"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"input-view"},[a("u-search",{attrs:{placeholder:"搜索商品","show-action":!1},on:{search:function(i){arguments[0]=i=t.$handleEvent(i),t.go_search.apply(void 0,arguments)},clear:function(i){arguments[0]=i=t.$handleEvent(i),t.clear.apply(void 0,arguments)},change:function(i){arguments[0]=i=t.$handleEvent(i),t.get_data.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}})],1)],1),a("v-uni-view",{staticClass:"history-cont"},[[a("v-uni-view",{staticStyle:{width:"100%"}},[a("v-uni-view",{staticClass:"zl-history-box"},[a("v-uni-view",{staticClass:"zl-history"},[a("v-uni-text",[t._v("历史搜索")])],1),t.history.length>0?a("u-icon",{attrs:{name:"trash",size:"40"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deles.apply(void 0,arguments)}}}):t._e()],1),a("v-uni-view",{staticClass:"zl-search-history"},t._l(t.history,(function(i,e){return a("v-uni-text",{key:e,on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.again(i)}}},[t._v(t._s(i))])})),1)],1)]],2),a("v-uni-view",[[a("v-uni-view",{staticStyle:{width:"100%"}},[a("v-uni-view",{staticClass:"zl-history-box"},[a("v-uni-view",{staticClass:"zl-history"},[a("v-uni-text",[t._v("搜索结果")])],1)],1),t.shop_list.length>0?a("v-uni-scroll-view",{staticClass:"goods-list",attrs:{"scroll-y":"true"}},[t._l(t.shop_list,(function(i,e){return a("v-uni-view",{key:e,staticClass:"cont_item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.go_shopdetail(i)}}},[a("v-uni-view",{staticClass:"img-box"},[a("v-uni-image",{staticClass:"images",attrs:{src:i.image,mode:"aspectFit"}})],1),a("v-uni-view",{staticClass:"base-cont"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(i.title))]),a("v-uni-view",{staticClass:"index-cont"},[a("v-uni-view",{staticClass:"item-sale"},[t._v("已售"+t._s(i.sale)+"件 库存"+t._s(i.stock)+"件")]),a("v-uni-view",{staticClass:"price"},[a("v-uni-text",[a("v-uni-text",{},[t._v("￥")]),t._v(t._s(i.price))],1)],1)],1)],1)],1)})),a("u-loadmore",{attrs:{status:t.moreStatus,"margin-bottom":"120","margin-top":"20"}})],2):t._e()],1)]],2)],1)},s=[]},"4c8e":function(t,i,a){"use strict";a.r(i);var e=a("3984"),n=a("e25c");for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("743d"),a("2391");var o,d=a("f0c5"),r=Object(d["a"])(n["default"],e["b"],e["c"],!1,null,"682b70d8",null,!1,e["a"],o);i["default"]=r.exports},"6a09":function(t,i,a){"use strict";var e=a("4ea4");a("99af"),a("c975"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("2909")),s={data:function(){return{keyword:"",history:[],shop_list:[],key:"",member_id:"",queryParams:{page:1,limit:20,last_page:1},moreStatus:"loadmore"}},onReachBottom:function(){this.queryParams.last_page!==this.queryParams.page&&(this.queryParams.page+=1,this.get_data())},onLoad:function(t){this.member_id=uni.getStorageSync("member_id")},methods:{go_shopdetail:function(t){this.com.navto("../../pages/index/shop_detail?shop_id="+t.id)},go_search:function(t){this.shop_list=[],this.queryParams.page=1,""===t?this.com.msg("搜索内容不能为空"):(-1==this.history.indexOf(t)&&this.history.unshift(t),this.history.length>8&&this.history.pop(),this.get_data())},clear:function(){this.shop_list=[],this.queryParams.page=1},deles:function(){var t=this;uni.showModal({title:"提示",content:"确定要删除历史搜索吗",success:function(i){i.confirm&&(t.history=[],uni.removeStorage({key:"neirong",success:function(t){uni.showToast({title:"清空成功"})}}))}})},again:function(t){this.keyword=t,this.queryParams.page=1,this.get_data()},get_data:function(t){var i=this;""!==this.keyword&&(uni.showLoading(),this.$api.post("goods",{key:this.keyword,page:this.queryParams.page}).then((function(t){1===t.status&&(t.data.data&&(i.shop_list=1===i.queryParams.page?t.data.data:[].concat((0,n.default)(i.shop_list),(0,n.default)(t.data.data)),i.queryParams.last_page=t.data.last_page,i.moreStatus=t.data.last_page===t.data.current_page?"nomore":"loadmore"),uni.hideLoading())})))}}};i.default=s},"743d":function(t,i,a){"use strict";var e=a("e6d2"),n=a.n(e);n.a},"8b13":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,"uni-page-body[data-v-682b70d8]{background-color:#f6f6f6}body.?%PAGE?%[data-v-682b70d8]{background-color:#f6f6f6}",""]),t.exports=i},cdf0:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.header[data-v-682b70d8]{position:fixed;left:0;top:0;height:%?120?%;width:100%;padding:%?20?% 0;background-color:#fff;z-index:999}.header .input-view[data-v-682b70d8]{display:flex;flex-direction:row;height:%?60?%;border-radius:15px;padding:0 15px;flex-wrap:nowrap;margin:7px %?30?%;line-height:%?60?%}.history-cont[data-v-682b70d8]{margin-top:70px}.imgs[data-v-682b70d8]{width:100%;height:%?100?%;margin-top:%?40?%}.imgs uni-image[data-v-682b70d8]{width:100%;height:100%}.box[data-v-682b70d8]{width:100%}.zl-history-box[data-v-682b70d8]{width:100%;display:flex;padding:%?10?% %?30?%;justify-content:space-between}.zl-history[data-v-682b70d8]{height:%?60?%;font-size:%?30?%;font-weight:700;line-height:%?60?%}.zl-search-history[data-v-682b70d8]{display:flex;align-items:center;flex-wrap:wrap;padding:0 %?30?%}.zl-search-history uni-text[data-v-682b70d8]{background-color:#fff;padding:0 %?20?%;margin-right:%?20?%;margin-bottom:%?20?%;text-align:center;border-radius:%?40?%;max-width:%?200?%;height:%?50?%;line-height:%?50?%;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.goods-list[data-v-682b70d8]{width:100%;background-color:#fff}.goods-list .cont_item[data-v-682b70d8]{margin:0 %?32?%;background-color:#fff;overflow:hidden;display:flex;align-items:center;border-bottom:1px solid #eee;color:#606266}.goods-list .cont_item .img-box[data-v-682b70d8]{margin:%?20?% 0;margin-right:%?32?%;width:%?100?%;height:%?100?%}.goods-list .cont_item .img-box .images[data-v-682b70d8]{display:block;width:%?100?%;height:%?100?%;border-radius:%?10?%;display:block}.goods-list .cont_item .base-cont[data-v-682b70d8]{flex:1;overflow:hidden;font-size:%?24?%}.goods-list .cont_item .base-cont .title[data-v-682b70d8]{font-size:%?28?%;margin-bottom:%?10?%;color:#414141}.goods-list .cont_item .index-cont[data-v-682b70d8]{display:flex;font-size:%?24?%;text-align:right;font-size:%?30?%}.goods-list .cont_item .index-cont .item-sale[data-v-682b70d8]{width:%?400?%;text-align:left;font-size:%?24?%}.goods-list .cont_item .index-cont .price[data-v-682b70d8]{flex:1;text-align:right;color:#ea5b72}',""]),t.exports=i},e25c:function(t,i,a){"use strict";a.r(i);var e=a("6a09"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a},e6d2:function(t,i,a){var e=a("8b13");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("55943968",e,!0,{sourceMap:!1,shadowMode:!1})}}]);